<?xml version="1.0"?>

<!-- Animations :
     ==========
     Surfaces : proceed by comparison left/right.

     Propellers :
     - between 1600 and 1800 rpm, each propeller and its shaft are both visible.
     - both have the cone of the shaft, but only the propeller cone rotates.
     - comparing with the static cone of the disc, one can align the rotating propeller cone.


     References :
     ==========

     - http://case.pr.erau.edu/reports/US_reports/1940/1943.02.22_PanAmericanAirways_Boeing-314.pdf
     (crash - 22 february 1943 Lisbon, Portugal) :

     Elevator range : +/-25 deg (20 + 5).
 
     - http://www.airweb.faa.gov/Regulatory_and_Guidance_Library/rgMakeModel.nsf/MainFrame?OpenFrameSet
     (FAA certificate, TC176 - Wright Double row Cyclone GR-260025) :

     Gear ratio 16 : 9.

     - http://www.southernoregonwarbirds.org/fa3.html/
     (Franck Varnum flew during WWII). 

     The propellers were geared down 9:5 from engine shaft, so when we slowed the engines to 1500 rpm the props were only
     turning at 850 rpm.

-->

<PropertyList>

 <path>Boeing314Clipper.ac</path>

 <offsets>

<!-- match the center of gravity of FDM -->
  <x-m>0.0</x-m>

<!-- makes the wheels touch the ground, when changes center of gravity.
     When changing this value, also adjust the seat to keep the 2D instruments. -->
  <z-m>-2.1</z-m>

<!-- If z-m = -2.1 :
     - substract 2.25 to get the vertical GL position of an animation axis.
     - except propellers.
-->

 </offsets>

<!-- ================================== -->
<!-- Animations (x/y/z = back/right/up) -->
<!-- ================================== -->

<!-- PROPELLERS -->

<!-- assume 1/7 gear ratio -->

<!-- OUTBOARDS PROPELLERS -->

 <animation>
  <type>select</type>
  <object-name>PropellerDisc1</object-name>
  <condition>
   <greater-than-equals>
    <property>/engines/engine[0]/rpm</property>
    <value>1800</value>
   </greater-than-equals>
  </condition>
 </animation>

 <animation>
  <type>spin</type>
  <object-name>PropellerDisc1</object-name>
  <property>/engines/engine[0]/rpm</property>
  <factor>0.5625</factor> <!-- real 16 : 9 -->
  <center>
   <x-m>-6.9</x-m>
   <y-m>-9.100</y-m>
   <z-m>2.834</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>

 <animation> 
  <type>blend</type>
  <object-name>PropellerDisc1</object-name>
  <property>/engines/engine[0]/rpm</property>
  <factor>0.00015</factor>
  <offset>-0.5</offset>
  <min>0.0</min>
  <max>0.5</max>
 </animation>

 <animation>
  <type>select</type>
  <object-name>PropellerShaft1</object-name>
  <condition>
   <greater-than>
    <property>/engines/engine[0]/rpm</property>
    <value>1600</value>
   </greater-than>
  </condition>
 </animation>

 <animation>
  <type>select</type>
  <object-name>Propeller1</object-name>
  <condition>
   <less-than>
    <property>/engines/engine[0]/rpm</property>
    <value>1800</value>
   </less-than>
  </condition>
 </animation>

 <animation>
  <type>spin</type>
  <object-name>Propeller1</object-name>
  <property>/engines/engine[0]/rpm</property>
  <factor>0.5625</factor> <!-- real 16 : 9 -->
  <center>
   <x-m>-6.9</x-m>
   <y-m>-9.100</y-m>
   <z-m>2.834</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>

<!-- 4 -->

 <animation>
  <type>select</type>
  <object-name>PropellerDisc4</object-name>
  <condition>
   <greater-than-equals>
    <property>/engines/engine[3]/rpm</property>
    <value>1800</value>
   </greater-than-equals>
  </condition>
 </animation>

 <animation>
  <type>spin</type>
  <object-name>PropellerDisc4</object-name>
  <property>/engines/engine[3]/rpm</property>
  <factor>0.5625</factor> <!-- test with 0.01 -->
  <center>
   <x-m>-6.9</x-m>
   <y-m>9.100</y-m>
   <z-m>2.834</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>

 <animation> 
  <type>blend</type>
  <object-name>PropellerDisc4</object-name>
  <property>/engines/engine[3]/rpm</property>
  <factor>0.00015</factor>
  <offset>-0.5</offset>
  <min>0.0</min>
  <max>0.5</max>
 </animation>

 <animation>
  <type>select</type>
  <object-name>PropellerShaft4</object-name>
  <condition>
   <greater-than>
    <property>/engines/engine[3]/rpm</property>
    <value>1600</value>
   </greater-than>
  </condition>
 </animation>

 <animation>
  <type>select</type>
  <object-name>Propeller4</object-name>
  <condition>
   <less-than>
    <property>/engines/engine[3]/rpm</property>
    <value>1800</value>
   </less-than>
  </condition>
 </animation>

 <animation>
  <type>spin</type>
  <object-name>Propeller4</object-name>
  <property>/engines/engine[3]/rpm</property>
  <factor>0.5625</factor> <!-- test with 0.01 -->
  <center>
   <x-m>-6.9</x-m>
   <y-m>9.100</y-m>
   <z-m>2.834</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>

<!-- INBOARDS PROPELLERS -->

 <animation>
  <type>select</type>
  <object-name>PropellerDisc2</object-name>
  <condition>
   <greater-than-equals>
    <property>/engines/engine[1]/rpm</property>
    <value>1800</value>
   </greater-than-equals>
  </condition>
 </animation>

 <animation>
  <type>spin</type>
  <object-name>PropellerDisc2</object-name>
  <property>/engines/engine[1]/rpm</property>
  <factor>0.5625</factor>
  <center>
   <x-m>-7.2</x-m>
   <y-m>-4.2800</y-m>
   <z-m>2.1292</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>

 <animation> 
  <type>blend</type>
  <object-name>PropellerDisc2</object-name>
  <property>/engines/engine[1]/rpm</property>
  <factor>0.00015</factor>
  <offset>-0.5</offset>
  <min>0.0</min>
  <max>0.5</max>
 </animation>

 <animation>
  <type>select</type>
  <object-name>PropellerShaft2</object-name>
  <condition>
   <greater-than>
    <property>/engines/engine[1]/rpm</property>
    <value>1600</value>
   </greater-than>
  </condition>
 </animation>

 <animation>
  <type>select</type>
  <object-name>Propeller2</object-name>
  <condition>
   <less-than>
    <property>/engines/engine[1]/rpm</property>
    <value>1800</value>
   </less-than>
  </condition>
 </animation>

 <animation>
  <type>spin</type>
  <object-name>Propeller2</object-name>
  <property>/engines/engine[1]/rpm</property>
  <factor>0.5625</factor>
  <center>
   <x-m>-7.2</x-m>
   <y-m>-4.2800</y-m>
   <z-m>2.1292</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>

<!-- 3 -->

 <animation>
  <type>select</type>
  <object-name>PropellerDisc3</object-name>
  <condition>
   <greater-than-equals>
    <property>/engines/engine[2]/rpm</property>
    <value>1800</value>
   </greater-than-equals>
  </condition>
 </animation>

 <animation>
  <type>spin</type>
  <object-name>PropellerDisc3</object-name>
  <property>/engines/engine[2]/rpm</property>
  <factor>0.5625</factor> <!-- test with 0.01 -->
  <center>
   <x-m>-7.2</x-m>
   <y-m>4.2800</y-m>
   <z-m>2.1292</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>

 <animation> 
  <type>blend</type>
  <object-name>PropellerDisc3</object-name>
  <property>/engines/engine[2]/rpm</property>
  <factor>0.00015</factor>
  <offset>-0.5</offset>
  <min>0.0</min>
  <max>0.5</max>
 </animation>

 <animation>
  <type>select</type>
  <object-name>PropellerShaft3</object-name>
  <condition>
   <greater-than>
    <property>/engines/engine[2]/rpm</property>
    <value>1600</value>
   </greater-than>
  </condition>
 </animation>

 <animation>
  <type>select</type>
  <object-name>Propeller3</object-name>
  <condition>
   <less-than>
    <property>/engines/engine[2]/rpm</property>
    <value>1800</value>
   </less-than>
  </condition>
 </animation>

 <animation>
  <type>spin</type>
  <object-name>Propeller3</object-name>
  <property>/engines/engine[2]/rpm</property>
  <factor>0.5625</factor> <!-- test with 0.01 -->
  <center>
   <x-m>-7.2</x-m>
   <y-m>4.2800</y-m>
   <z-m>2.1292</z-m>
  </center>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>

<!-- FLAP -->

 <animation>
  <type>rotate</type>
  <object-name>LeftFlap</object-name>
  <property>/surface-positions/flap-pos-norm</property>
  <factor>-55.0</factor>
  <offset-deg>0</offset-deg>   
  <center>
   <x-m>1.23</x-m>
   <y-m>-6.2</y-m>
   <z-m>2.75</z-m>
  </center>
  <axis>
   <x>-0.11</x>
   <y>-1.0</y>
   <z>0.07</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>RightFlap</object-name>
  <property>/surface-positions/flap-pos-norm</property>
  <factor>55.0</factor>
  <offset-deg>0</offset-deg>   
  <center>
   <x-m>1.23</x-m>
   <y-m>6.2</y-m>
   <z-m>2.75</z-m>
  </center>
  <axis>
   <x>-0.11</x> <!-- height -->
   <y>1.0</y>
   <z>0.07</z> <!-- depth -->
  </axis>
 </animation>

<!-- AILERON -->

 <animation>
  <type>rotate</type>
  <object-name>LeftAileron</object-name>
  <property>/surface-positions/left-aileron-pos-norm</property>
  <factor>25.0</factor>
  <offset-deg>0</offset-deg>   
  <center>
   <x-m>0.29</x-m>
   <y-m>-16.9</y-m>
   <z-m>3.25</z-m>
  </center>
  <axis>
   <x>-0.14</x>
   <y>-1.0</y>
   <z>0.05</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>RightAileron</object-name>
  <property>/surface-positions/right-aileron-pos-norm</property>
  <factor>-25.0</factor>
  <offset-deg>0</offset-deg>   
  <center>
   <x-m>0.29</x-m>
   <y-m>16.9</y-m>
   <z-m>3.25</z-m>
  </center>
  <axis>
   <x>-0.14</x> <!-- height -->
   <y>1.0</y>
   <z>0.05</z> <!-- depth -->
  </axis>
 </animation>

<!-- ELEVATOR -->

 <animation>
  <type>rotate</type>
  <object-name>LeftElevator</object-name>
  <property>/surface-positions/elevator-pos-norm</property>
  <factor>25.0</factor> <!-- real -->
  <offset-deg>0</offset-deg>   
  <center>
   <x-m>14.4</x-m>
   <y-m>0.0</y-m>
   <z-m>3.25</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>1.0</y>
   <z>0.0</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>RightElevator</object-name>
  <property>/surface-positions/elevator-pos-norm</property>
  <factor>-25.0</factor> <!-- real -->
  <offset-deg>0</offset-deg>   
  <center>
   <x-m>14.4</x-m>
   <y-m>0.0</y-m>
   <z-m>3.25</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>-1.0</y>
   <z>0.0</z>
  </axis>
 </animation>

<!-- RUDDER -->

 <animation>
  <type>rotate</type>
  <object-name>LeftRudder</object-name>
  <property>/surface-positions/rudder-pos-norm</property>
  <factor>20</factor>
  <offset-deg>0</offset-deg>   
  <center>
   <x-m>14.2</x-m>
   <y-m>-6.25</y-m>
   <z-m>0.0</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>0.0</y>
   <z>1.0</z>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>RightRudder</object-name>
  <property>/surface-positions/rudder-pos-norm</property>
  <factor>20</factor>
  <offset-deg>0</offset-deg>   
  <center>
   <x-m>14.2</x-m>
   <y-m>6.25</y-m>
   <z-m>0.0</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>0.0</y>
   <z>1.0</z>
  </axis>
 </animation>

</PropertyList>
